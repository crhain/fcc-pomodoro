void 0===window.requestAnimationFrame&&(window.requestAnimationFrame=function(n){return window.setTimeout(n,16)},window.cancelAnimationFrame=function(n){return window.clearTimeout(n)});var clock=function(){var t,n,e,o,i,r,c,a,u,l={},k=25,d=5,m="#1D3043",s="#C04B2E",w=!1,f="public/audio/6de6332f09e1f5c02156eabd1272bfe1_Alarm01.ogg",g=new Audio,T=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),b=60*k,x=b,p=!1,A=!1,v="work";function B(){return p||!A}function C(){c=Date.now(),0===x?(S(),"work"===v?(v="break",e.text("Break"),x=b=60*d):(v="work",e.text("Session"),x=b=60*k)):2===x&&g.play(),1e3<=c-a&&(a=c,x-=1,n.text(F(x))),y(),u=window.requestAnimationFrame(C)}function y(){var n=100/b*(b-(c-r)/1e3);t.css("background","linear-gradient("+m+" "+n+"%, "+s+" "+n+"%)")}function F(n){var t=Math.floor(n/60),e=n%60;return t=t.toString(),e=e.toString(),t.length<2&&(t="0"+t),e.length<2&&(e="0"+e),t+":"+e}function S(){r=c=a=Date.now()}function D(){i.text(d),"break"===v&&(S(),p=!1,x=b=60*d,y(),n.text(F(x)))}function h(){o.text(k),"work"===v&&(S(),p=!1,x=b=60*k,y(),n.text(F(x)))}return l.init=function(){t=$(arguments[0]),n=$(arguments[1]),e=$(arguments[2]),i=$(arguments[3]),o=$(arguments[4]),n.text(F(x)),e.text("Session"),o.text(k),i.text(d),m=t.css("background-color")},l.addWorkTime=function(){k<60&&B()&&(k+=1,h())},l.minusWorkTime=function(){1<k&&B()&&(k-=1,h())},l.addBreakTime=function(){d<60&&B()&&(d+=1,D())},l.minusBreakTime=function(){0<d&&B()&&(d-=1,D())},l.toggleTimer=function(){A?(A=!(p=!0),a=Date.now(),window.cancelAnimationFrame(u)):function(){p?(c=Date.now(),r+=c-a,a=c):(w||(T&&g.play(),g.src=f,w=!0),S());p=!1,A=!0,C()}()},l.reset=function(){A=p=!1,S(),window.cancelAnimationFrame(u),x=b=60*k,S(),v="work",n.text(F(x)),e.text("Session"),y()},l}();function buttonClick(n){var t=$("#"+n);t.toggleClass("clicked"),window.setTimeout(function(){t.toggleClass("clicked")},250)}$("document").ready(function(){clock.init("#clock","#clock #time","#clock #period","#break-counter-display","#work-counter-display"),$("#clock").on("click",function(n){clock.toggleTimer()}),$(".minus").on("click",function(n){var t=n.currentTarget.parentElement.id;"break-control"===t?clock.minusBreakTime():"work-control"===t&&clock.minusWorkTime(),buttonClick(n.currentTarget.id)}),$(".plus").on("click",function(n){var t=n.currentTarget.parentElement.id;"break-control"===t?clock.addBreakTime():"work-control"===t&&clock.addWorkTime(),buttonClick(n.currentTarget.id)}),$("#reset").on("click",function(n){clock.reset(),buttonClick("reset")})});